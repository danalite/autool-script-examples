task: clipboard-manager-image
desc: clipboard Manager with image support

actions:
  # Or alternatively, use intrinsic event, so that you are also informed when the clipboard is changed by mouse clicking
  - event.on(__CLIPBOARD_CHANGED__) => $value:
    - cmd.if()

  # Show the clipped content
  - event.on(__KEY_PRESSED__, {{ {'keys':'Meta', 'duration':2} }}):
    - db.read( {{ {'target':'history.txt', 'sep':'__SEP__' } }} ) => $val
    - >- 
      user.input( {{ {
        'title':'Clipboard Manager',
        'content': {
          'type': 'list',
          'content': $val,
        },
        'icon': 'https://raw.githubusercontent.com/danalites/autoo/main/imgs/logo.png'
      } }})
  
  # Keep task (and its event.on subtasks) alive
  - cmd.sleep(18000)