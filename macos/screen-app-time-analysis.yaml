---
 task: track-screen-time
 
 configs:
    options: ["autostart"]

 actions:
   - db.init({{$env[HOME]}}/Desktop/timing.csv, {{ {'headers':['app', 'time']} }}) => $csv
   - cmd.while({{1}}):

      # track the screen time every 5min (300s)
      - cmd.sleep(300s)
      - window.is_active() => $win

      # store and update value in CSV table
      - db.read($csv, {{ {'row':$win[owner],'col':'time','default':0} }}) => $stats
      
      - db.write($csv, {{ {'row':$win[owner],'col':'time','value':int($stats)+5} }})
