--- 
  task: gmail-track-credit-card-spending
  doc: ...

  configs:
    # task is auto-started, and run every day at 00:00
    options: ['auto-start']
    start-time: 2020-01-01

  actions:
    - db.init({{'type':'imap', 'source':''}}) => $imap

    # Filter email from inbox
    - db.read($imap, {{ {'from':'americanexpress.com', 'subject':'Large'} }}) => $emails

    # Parse email body to get the purchase item and amount
    - cmd.for({{$emails}}):
        - cmd.if({{ $item['from'] == '