---
  task: switch-display-input-source
  desc: switch the input source of monitor between DP1 and HDMI2

  actions:
    - db.init() => $db
    - db.read($db, MONITOR_INPUT) => $prev
    - cmd.if({{ $prev[val] == 'HDMI2' }}):
        - os.shell(ddcctl -d 1 -i 15)
        - db.write($db, MONITOR_INPUT, DP1)

    - cmd.if({{ $prev[val] == 'DP1' }}):
        # other input sources: https://github.com/kfix/ddcctl#input-sources
        - os.shell(ddcctl -d 1 -i 18)
        - db.write($db, MONITOR_INPUT, HDMI2)


