task: auto-switch-keyboard-input
doc: https://inputsource.pro/
deps:
  - https://github.com/minoki/InputSourceSelector
actions:
  - cmd.while({{ True }}):
      - window.is_active() => $win
      - data.read( {{ $win[owner] }} ) => $app
      - cmd.sleep(2)
      - cmd.if({{ $app in ['WeChat'] }}):
          - >-
            os.shell(InputSourceSelector select
            com.apple.inputmethod.SCIM.ITABC)
      - cmd.if({{ $app in ['Visual Studio Code', 'Slack'] }}):
          - os.shell(InputSourceSelector select com.apple.keylayout.US)
configs:
  options: []
  hotkey: ''
  shortcut: false
