task: close-apps

actions:
  - os.shell(osascript -e 'tell application "System Events" to get name of every process whose visible is true') => $apps
  
  # Strip the whitespace (backed by python eval(...) in the backend)
  - data.read({{ [ _.strip() for _ in $apps.split(',') ] }}) => $apps

  - user.input({{ {'type':'select',
    'title':'select apps to close','options':$apps, 'preset':True} }}) => $target

  - cmd.for_each({{ $target }}) => $index, $item:
    - os.shell(osascript -e 'tell application "{{ $item }}" to quit')

configs:
  options: []
  hotkey: ''
  shortcut: false
